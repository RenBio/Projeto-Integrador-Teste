<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8">
  <title>Carrinho de compras</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
      background: #f9f9f9;
    }

    h1,
    h2 {
      text-align: center;
    }

    .container {
      display: flex;
      gap: 20px;
      flex-wrap: wrap;
    }

    .produtos,
    .carrinho {
      background: #fff;
      padding: 15px;
      border: 1px solid #ccc;
      border-radius: 8px;
      flex: 1;
      min-width: 300px;
    }

    .grid-produtos {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
      gap: 10px;
    }

    .produto,
    li {
      border: 1px solid #ddd;
      padding: 10px;
      border-radius: 6px;
      text-align: center;
      margin-bottom: 8px;
    }

    button {
      padding: 5px 10px;
      margin: 2px;
      border: none;
      border-radius: 4px;
      background: #007bff;
      color: #fff;
      cursor: pointer;
    }

    button:hover {
      background: #0056b3;
    }

    .total {
      margin-top: 15px;
      font-weight: bold;
      text-align: right;
    }

    .vazio {
      text-align: center;
      color: #666;
      font-style: italic;
    }
  </style>
</head>
<!-- Tarefas
 
design(imagens) Paulo;
bot칚o adicinar e ir para o carrinho Catarina;
carrinho aparecer o que foi adicionado Renan;
aumentar e diminir quantidade thiago;
quantificar o somatorio dos valores Fernando;
fun칞칚o do calculo final Paulo.
-->

<body>
  <h1>游 Mini Loja</h1>
  <div class="container">
    <!-- Produtos -->
    <div class="produtos">
      <h2>Produtos</h2>
      <div class="grid-produtos" id="listaProdutos">
      </div>
    </div>

    <!-- Carrinho -->
    <div class="carrinho">
      <h2>Carrinho</h2>
      <ul id="listaCarrinho"></ul>
      <p class="total">Total: <span id="total">R$ 0,00</span></p>
    </div>
  </div>


  <script>
    //Lista de produtos dispon칤veis na loja

    var produtos = [
      { nome: "T칡nis", preco: 200 },
      { nome: "Livro", preco: 40 },
      { nome: "Camisa", preco: 50 },
      { nome: "Fone", preco: 120 }
    ];

    //Carrinho de compras (inicialmente vazio)

    var carrinho = [];

    // Fun칞칚o para formatar pre칞os em Real brasileiro

    function formatarPreco(valor) {
      return valor.toLocaleString("pt-BR", {
        style: "currency",
        currency: "BRL"
      });
    }

    // Fun칞칚o para mostrar os produtos na p치gina

    function mostrarProdutos() {
      var listaProdutos = document.getElementById("listaProdutos");
      listaProdutos.innerHTML = "";

      for (var i = 0; i < produtos.length; i++) {         //para cada produto, criar um elemento na lista
        listaProdutos.innerHTML += '<div class="produto">' +
          '<strong>' + produtos[i].nome + '</strong><br>' +
          formatarPreco(produtos[i].preco) + '<br>' +
          '<button onclick="adicionarAoCarrinho(' + i + ')">Adicionar</button>' +
          '</div>'
      }
    }

    // Fun칞칚o para adicionar um produto ao carrinho

    function adicionarAoCarrinho(indiceProduto) {
      var produto = produtos[indiceProduto];

      var produtoNoCarrinho = null;     // Verificar se o produto j치 est치 no carrinho
      for (var i = 0; i < carrinho.length; i++) {
        if (carrinho[i].nome === produto.nome) {
          produtoNoCarrinho = carrinho[i];
          break;     // para de procurar quando encontrar
        }
      }

      if (produtoNoCarrinho) {                // Se j치 est치, aumenta a quantidade
        produtoNoCarrinho.quantidade++;
      } else {                              // Se n칚o est치, adiciona com quantidade 1
        carrinho.push({
          nome: produto.nome,
          preco: produto.preco,
          quantidade: 1
        });
      }

      atualizarCarrinho();                        // Atualiza a exibi칞칚o do carrinho

    }

    // Fun칞칚o para remover um produto do carrinho

    function removerDoCarrinho(nomeProduto) {
      var produtoNoCarrinho = null;                 // Encontra o produto no carrinho


      for (var i = 0; i < carrinho.length; i++) {
        if (carrinho[i].nome === nomeProduto) {
          produtoNoCarrinho = carrinho[i];
          break;

        }

      }

      if (produtoNoCarrinho) {                           // Diminui a quantidade
        produtoNoCarrinho.quantidade--;

        if (produtoNoCarrinho.quantidade <= 0) {        // Se a quantidade chegar a zero, remove o produto
          var novoCarrinho = [];                           // Cria um novo carrinho sem o produto

          for (var i = 0; i < carrinho.length; i++) {
            if (carrinho[i].nome !== nomeProduto) {
              novoCarrinho.push(carrinho[i]);
            }
          }
          carrinho = novoCarrinho;  // Atualiza o carrinho

        }
      }

      atualizarCarrinho();      // Atualiza a exibi칞칚o do carrinho

    }


    function atualizarCarrinho() {                                       // Fun칞칚o para atualizar a exibi칞칚o do carrinho
      var listaCarrinho = document.getElementById("listaCarrinho");
      var totalElemento = document.getElementById("total");


      listaCarrinho.innerHTML = "";                 //Limpa a lista do carrinho

      if (carrinho.length === 0) {                  // Se o carrinho estiver vazio, mostra mensagem
        listaCarrinho.innerHTML = '<p class="vazio">Carrinho vazio</p>';
      } else {
        for (var i = 0; i < carrinho.length; i++) {       // Para cada item no carrinho, adiciona  lista
          var item = carrinho[i];
          var precoTotal = item.preco * item.quantidade;

          listaCarrinho.innerHTML += '<li>' +
            item.nome + ' (x' + item.quantidade + ') - ' + formatarPreco(precoTotal) +
            '<br>' +
            '<button onclick="adicionarAoCarrinhoPorNome(\'' + item.nome + '\')">+</button>' +
            '</li>';
        }
      }

      var total = 0;                               // Calcula o total do carrinho
      for (var i = 0; i < carrinho.length; i++) {
        total += carrinho[i].preco * carrinho[i].quantidade;
      }

      totalElemento.textContent = formatarPreco(total);   // Atualiza o total na p치gina

    }



 //Fun칞칚o auxiliar para adicionar produto pelo nome


    function adicionarAoCarrinhoPorNome(nomeProduto) {
      for (var i = 0; i < carrinho.length; i++) {          // Encontra o produto na lista de produtos
        if (produtos[i].nome === nomeProduto) {
          adicionarAoCarrinho(i);
          break;
        }
      }
    }


    mostrarProdutos();                                      // Inicializa a p치gina
    atualizarCarrinho();





  </script>

</body>

</html>
